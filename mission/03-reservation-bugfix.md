# 3단계 - 버그 수정과 테스트 보강

## 코드 리뷰
> PR 링크:
> **[]()**

## 요구사항

> 모든 버그 수정 및 전체 코드 개선을 할 필요는 없습니다. 
> 3단계의 목표는 우선순위에 따라서 개선하고 보완하는 연습이므로 각자가 세운 우선순위에 따라 진행해주세요.

### 1. 발견한 버그 수정
- [x] 테스트 실패 원인 분석
- [x] 최소한의 코드로 테스트 통과
- [x] 수정 후 회귀 테스트 확인

### 2. 테스트 커버리지 확장
- 엣지 케이스 도출
- 경계값 테스트 추가
- 예외 상황 테스트 보강

### 3. 테스트 코드 리팩토링
- 테스트 헬퍼 메서드 도출
- 테스트 데이터 빌더 패턴 적용
- 테스트 가독성 개선

### 4. 성과 측정(선택)
- 버그 수정 전후 비교
- 테스트 커버리지 측정
- 발견한 추가 이슈 문서화

## 체크포인트
- [ ] 모든 발견된 버그가 수정되었는가?
- [ ] 테스트가 버그 재발을 방지하는가?
- [ ] 엣지 케이스가 충분히 커버되는가?
- [ ] 테스트 코드가 유지보수하기 쉬운가?
- [ ] 테스트 실행 시간이 합리적인가?

## 💡 힌트

### 엣지 케이스 찾기
- Null/Empty 값
- 경계값 (0, 최대값, 음수)
- 중복 데이터
- 동시성 이슈
- 타임존/날짜 경계

### 테스트 데이터 빌더
```java
    public class ReservationTestDataBuilder {
        private String name = "기본이름";
        private String phone = "010-0000-0000";
        
        public ReservationTestDataBuilder withName(String name) {
            this.name = name;
            return this;
        }
        
        public Reservation build() {
            return new Reservation(name, phone, ...);
        }
    }
```

### 얼마나 디테일하게 검증해야 할까?
- 계산한 리스크의 정도에 따라서 결정
- 모든 기능이나 사소한 스펙을 검증할 필요는 없음
- 단, 사소한 스펙이 비즈니스에 중요하게 영향을 줄 경우 테스트 작성 우선순위는 높아짐