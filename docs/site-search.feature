# language: ko

Feature: 기간별 사이트 검색
  연박 예약을 위해 특정 기간 동안 예약 가능한 사이트를 검색한다

  Background:
    Given 캠핑장 사이트 "A-1"과 "B-1"이 등록되어 있다

  Scenario: 전체 기간 예약 가능한 사이트 조회
    Given 모든 사이트가 "2026-01-20"부터 "2026-01-22"까지 예약이 없다
    When "2026-01-20"부터 "2026-01-22"까지 가용 사이트를 검색한다
    Then 검색 결과에 "A-1"과 "B-1"이 포함된다

  Scenario: 중간 날짜에 예약이 있는 사이트는 제외
    Given "A-1" 사이트에 "2026-01-21" 예약이 있다
    When "2026-01-20"부터 "2026-01-22"까지 가용 사이트를 검색한다
    Then 검색 결과에 "A-1"이 포함되지 않는다

  Scenario: 대형 사이트만 필터링
    When "2026-01-20"부터 "2026-01-22"까지 "대형" 사이트를 검색한다
    Then 검색 결과에 "A-1"만 포함된다

  Scenario: 과거 날짜로 검색하면 실패
    When 과거 날짜로 가용 사이트를 검색한다
    Then 검색이 실패한다

  Scenario: 취소된 예약이 있는 사이트는 가용으로 표시
    Given "A-1" 사이트의 "2026-01-21" 예약이 취소되었다
    When "2026-01-20"부터 "2026-01-22"까지 가용 사이트를 검색한다
    Then 검색 결과에 "A-1"이 포함된다
