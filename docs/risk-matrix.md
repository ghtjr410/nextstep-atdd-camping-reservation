# 리스크 매트릭스

## 평가 기준

| 점수 | 비즈니스 임팩트 | 변경 빈도 | 버그 가능성 |
|------|----------------|----------|------------|
| 3 (높음) | 매출/고객 직결 | 자주 변경됨 | 복잡한 로직, 버그 발견됨 |
| 2 (보통) | 간접적 영향 | 가끔 변경 | 일반적 복잡도 |
| 1 (낮음) | 영향 적음 | 거의 안 변함 | 단순 로직 |

**계산식**: 리스크 점수 = 비즈니스 임팩트 + 변경 빈도 + 버그 가능성

---

## 평가 결과

| 기능 | 비즈니스 임팩트 | 변경 빈도 | 버그 가능성 | 총점 | 순위 |
|-----|----------------|----------|------------|------|------|
| 예약 생성 | 높음(3) | 높음(3) | 높음(3) | 9 | 1 |
| 기간별 사이트 검색 | 높음(3) | 보통(2) | 높음(3) | 8 | 2 |
| 예약 취소 | 높음(3) | 보통(2) | 보통(2) | 7 | 3 |
| 예약 수정 | 보통(2) | 보통(2) | 높음(3) | 7 | 4 |
| 단일 날짜 가용성 | 보통(2) | 낮음(1) | 보통(2) | 5 | 5 |
| 예약 조회 | 보통(2) | 낮음(1) | 낮음(1) | 4 | 6 |
| 내 예약 조회 | 보통(2) | 낮음(1) | 낮음(1) | 4 | 7 |
| 월별 캘린더 | 낮음(1) | 낮음(1) | 낮음(1) | 3 | 8 |

---

## Top 3 선정 근거

### 1위: 예약 생성 (9점)

**비즈니스 임팩트 (3점)**
- 캠핑장의 핵심 수익 기능
- 예약 실패 = 매출 손실 직결

**변경 빈도 (3점)**
- 가격 정책, 할증 규칙, 포인트 정책 변경 가능성 높음
- 프로모션, 시즌별 정책 반영 필요

**버그 가능성 (3점)**
- 동시성 문제: Thread.sleep(100)으로 Race Condition 발생
- 취소된 예약 중복 판정: 재예약 불가 버그
- 가격 계산 로직 복잡 (날짜별 할증 계산)

---

### 2위: 기간별 사이트 검색 (8점)

**비즈니스 임팩트 (3점)**
- 연박 예약의 진입점
- 잘못된 검색 결과 → 예약 실패 → 고객 이탈

**변경 빈도 (2점)**
- 필터 조건 추가 가능성 (인원수, 시설 등)

**버그 가능성 (3점)**
- **중간 날짜 미체크 버그**: 시작일/종료일만 확인
- 예: 1/20~22 검색 시 21일에 예약 있어도 "가용"으로 표시
- 연박 예약 시 중간에 예약 충돌 발생

---

### 3위: 예약 취소 (7점)

**비즈니스 임팩트 (3점)**
- 환불 정책과 직결 (당일 취소 환불 불가)
- 잘못된 취소 처리 → 고객 클레임, 금전적 손해

**변경 빈도 (2점)**
- 취소 정책 변경 가능성 (환불 비율, 기준일 등)

**버그 가능성 (2점)**
- 당일 취소 판정 로직 (startDate == today)
- 취소 후 재예약 가능 여부 (버그 #3과 연관)

---

## 참고: 4위 예약 수정 (7점)

동점이지만 예약 취소보다 후순위로 판단한 이유:
- 수정은 취소 후 재예약으로 대체 가능
- 취소는 환불과 직결되어 비즈니스 임팩트가 더 큼
- 단, **중복 체크 없음 버그**는 심각하므로 테스트 필요
